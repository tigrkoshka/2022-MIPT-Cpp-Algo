### Что напечатает следующая программа?

```c++
#include <stdio.h>

class A {
    int i;
public:
    A(int x) { i = x; printf ("first\n"); }
    virtual ~A() { printf ("second \n"); }
    int f() const { return i + g() + h(); }
    virtual int g() const { return i; }
    int h() const { return 6; }
};

class B: public A {
public:
    B() : A(0) { printf ("third\n"); }
    ~B() { printf ("fourth\n"); }
    int f() const { return g() - 5; }
    virtual int g() const { return 8; }
    int h() const { return 1; }
};

int main() {
    B b;
    A *p = &b;
    printf("result = (%d ; %d)\n", p->f(), b.f());
    return 0;
}
```

---

Первая строчка `main`: будет вызван `B()`:

1. Будет вызван конструктор `A(0)` -> напечатается `first\n`
2. Будет вызвано тело дефолтного конструктора `B()` -> напечатается `third\n`

Вторая строчка `main`: ничего не вызывается и не печатается

Третья строчка `main`:

1. Вычисление `p->f()`:
   - Поскольку метод `A.f()` не объявлен виртуальным, то вызовется именно он, поскольку p имеет тип `*A`
   - Вызов `g()` внутри `A.f()` будет относиться к реальному классу, сохранённому в `p`, потому что `A.g()`
     объявлен виртуальным, поэтому будет вызван метод `B.g()`, который вернёт `8`
   - Вызов `h()` внутри `A.f()` будет относиться к классу `A`, потому что `A.h()`
     не объявлен виртуальным, поэтому будет вызван метод `A.h()`, который вернёт `6`
   - Поскольку поле `i` имеет значение `0` (оно инициализировалось в делегирующем конструкторе из 
     дефолтного конструктора `B` в первой строчку `main`), то результат вызова `A.f()` будет `0 + 8 + 6 = 14`
2. Вычисление `b.f()`:
   - Все методы будут вызываться у класса `B`, так как переменная `b` имеет именно такой тип, и это не указатель 
   - Итого, `b.f() = b.g() - 5 = 8 - 5 = 3`
3. Напечатается `result = (14 ; 3)`

Перед выходом из `main`: будет вызван деструктор `b`:

1. Будет вызвано тело дефолтного деструктора `~B()` -> напечатается `fourth\n`
2. Будет вызван виртуальный деструктор родителя, то есть `~A()` -> напечатается `second\n`

Итого, общий вывод программы будет:

```
first
third
result = (14 ; 3)
fourth
second
```